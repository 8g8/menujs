(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["contextmenu"]=t(require("vue")):e["contextmenu"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="8886")}({"0327":function(e,t,n){"use strict";var i=n("e447"),s=n.n(i);t["default"]=s.a},"139e":function(e,t,n){e.exports={menu:"Contextmenu_menu_cYpEk",menu_item:"Contextmenu_menu_item_1DQNs",menu_item__clickable:"Contextmenu_menu_item__clickable_29d8g",menu_item__unclickable:"Contextmenu_menu_item__unclickable_2nbwq"}},6187:function(e,t,n){"use strict";var i=n("139e"),s=n.n(i);t["default"]=s.a},8886:function(e,t,n){"use strict";var i;(n.r(t),"undefined"!==typeof window)&&(n("e31d"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));var s=n("8bbf"),o=n.n(s),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},l=[];function m(e){let t=[];for(let n of document.getElementsByClassName(e)||[])t.push(n);return t}const c=3,a=-10,r="left",d="right",h="contextmenu-submenu";var _={data(){return{items:[],position:{x:0,y:0},style:{zIndex:2,minWidth:150},mainMenuInstance:null,customClass:null,mouseListening:!1}},mounted(){const e=o.a.component(h);this.mainMenuInstance=new e,this.mainMenuInstance.items=this.items,this.mainMenuInstance.commonClass={menu:this.$style.menu,menuItem:this.$style.menu_item,clickableMenuItem:this.$style.menu_item__clickable,unclickableMenuItem:this.$style.menu_item__unclickable},this.mainMenuInstance.position={x:this.position.x,y:this.position.y,width:0,height:0},this.mainMenuInstance.style.minWidth=this.style.minWidth,this.mainMenuInstance.style.zIndex=this.style.zIndex,this.mainMenuInstance.customClass=this.customClass,this.mainMenuInstance.$mount(),document.body.appendChild(this.mainMenuInstance.$el),this.addListener()},destroyed(){this.removeListener(),this.mainMenuInstance&&this.mainMenuInstance.close()},methods:{mousewheelListener(){this.$destroy()},mouseDownListener(e){let t=e.target;const n=m(this.$style.menu);while(!n.find(e=>e===t)&&t.parentElement)t=t.parentElement;n.find(e=>e===t)||this.$destroy()},mouseClickListener(e){let t=e.target;const n=m(this.$style.menu),i=m(this.$style.menu_item),s=m(this.$style.menu_item__unclickable);while(!n.find(e=>e===t)&&!i.find(e=>e===t)&&t.parentElement)t=t.parentElement;if(i.find(e=>e===t)){if(0!==e.button||s.find(e=>e===t))return;this.$destroy()}else n.find(e=>e===t)||this.$destroy()},addListener(){this.mouseListening||(document.addEventListener("click",this.mouseClickListener),document.addEventListener("mousedown",this.mouseDownListener),document.addEventListener("mousewheel",this.mousewheelListener),this.mouseListening=!0)},removeListener(){this.mouseListening&&(document.removeEventListener("click",this.mouseClickListener),document.removeEventListener("mousedown",this.mouseDownListener),document.removeEventListener("mousewheel",this.mousewheelListener),this.mouseListening=!1)}}},f=_,p=n("6187");function y(e,t,n,i,s,o,u,l){var m,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),u?(m=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(u)},c._ssrRegister=m):s&&(m=l?function(){s.call(this,this.$root.$options.shadowRoot)}:s),m)if(c.functional){c._injectStyles=m;var a=c.render;c.render=function(e,t){return m.call(t),a(e,t)}}else{var r=c.beforeCreate;c.beforeCreate=r?[].concat(r,m):[m]}return{exports:e,options:c}}function b(e){this["$style"]=p["default"].locals||p["default"]}var v=y(f,u,l,!1,b,null,null),x=v.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"contextmenu-submenu-fade"}},[e.visible?n("div",{ref:"menu",class:[e.commonClass.menu,e.$style.menu,e.customClass],style:{left:e.style.left+"px",top:e.style.top+"px",minWidth:e.style.minWidth+"px",zIndex:e.style.zIndex}},[n("div",{class:e.$style.menu_body},[e._l(e.items,(function(t,i){return[t.hidden?e._e():[t.disabled?n("div",{key:i,class:[e.commonClass.menuItem,e.commonClass.unclickableMenuItem,e.$style.menu_item,e.$style.menu_item__disabled]},[e.hasIcon?n("div",{class:e.$style.menu_item_icon},[t.icon?n("i",{class:t.icon}):e._e()]):e._e(),n("span",{class:e.$style.menu_item_label},[e._v(e._s(t.label))]),n("div",{class:e.$style.menu_item_expand_icon})]):t.children?n("div",{key:i,class:[e.commonClass.menuItem,e.commonClass.unclickableMenuItem,e.$style.menu_item,e.$style.menu_item__available,e.activeSubmenu.index===i?e.$style.menu_item_expand:null],on:{mouseenter:function(n){return e.enterItem(n,t,i)}}},[e.hasIcon?n("div",{class:e.$style.menu_item_icon},[t.icon?n("i",{class:t.icon}):e._e()]):e._e(),n("span",{class:e.$style.menu_item_label},[e._v(e._s(t.label))]),n("div",{class:e.$style.menu_item_expand_icon},[e._v("â–¶")])]):n("div",{key:i,class:[e.commonClass.menuItem,e.commonClass.clickableMenuItem,e.$style.menu_item,e.$style.menu_item__available],on:{mouseenter:function(n){return e.enterItem(n,t,i)},click:function(n){return e.itemClick(t)}}},[e.hasIcon?n("div",{class:e.$style.menu_item_icon},[t.icon?n("i",{class:t.icon}):e._e()]):e._e(),n("span",{class:e.$style.menu_item_label},[e._v(e._s(t.label))]),n("div",{class:e.$style.menu_item_expand_icon})]),t.divided?n("div",{key:i+"-br",class:e.$style.menu_item_hr}):e._e()]]}))],2)]):e._e()])},C=[],I={name:h,data(){return{commonClass:{menu:null,menuItem:null,clickableMenuItem:null,unclickableMenuItem:null},activeSubmenu:{index:null,instance:null},items:[],position:{x:0,y:0,width:0,height:0},style:{left:0,top:0,zIndex:2,minWidth:150},customClass:null,visible:!1,hasIcon:!1,openTrend:d}},mounted(){this.visible=!0;for(let e of this.items)if(e.icon){this.hasIcon=!0;break}this.$nextTick(()=>{const e=document.documentElement.clientWidth,t=document.documentElement.clientHeight,n=this.$refs.menu,i=n.offsetWidth,s=n.offsetHeight;(this.openTrend===r?this.leftOpen:this.rightOpen)(e,t,i),this.style.top=this.position.y,this.position.y+s>t&&(0===this.position.height?this.style.top=this.position.y-s:this.style.top=t-s)})},methods:{leftOpen(e,t,n){this.style.left=this.position.x-n,this.openTrend=r,this.style.left<0&&(this.openTrend=d,0===this.position.width?this.style.left=0:this.style.left=this.position.x+this.position.width)},rightOpen(e,t,n){this.style.left=this.position.x+this.position.width,this.openTrend=d,this.style.left+n>e&&(this.openTrend=r,0===this.position.width?this.style.left=e-n:this.style.left=this.position.x-n)},enterItem(e,t,n){if(!this.visible)return;if(this.activeSubmenu.instance){if(this.activeSubmenu.index===n)return;this.activeSubmenu.instance.close(),this.activeSubmenu.instance=null,this.activeSubmenu.index=null}if(!t.children)return;const i=e.target.getBoundingClientRect(),s=o.a.component(h);this.activeSubmenu.index=n,this.activeSubmenu.instance=new s,this.activeSubmenu.instance.items=t.children,this.activeSubmenu.instance.openTrend=this.openTrend,this.activeSubmenu.instance.commonClass=this.commonClass,this.activeSubmenu.instance.position={x:i.x+c,y:i.y+a,width:i.width-2*c,height:i.width},this.activeSubmenu.instance.style.minWidth="number"===typeof t.minWidth?t.minWidth:this.style.minWidth,this.activeSubmenu.instance.style.zIndex=this.style.zIndex,this.activeSubmenu.instance.customClass="string"===typeof t.customClass?t.customClass:this.customClass,this.activeSubmenu.instance.$mount(),document.body.appendChild(this.activeSubmenu.instance.$el)},itemClick(e){if(this.visible)return!e||e.disabled||e.hidden||"function"!==typeof e.onClick?void 0:e.onClick()},close(){this.visible=!1,this.activeSubmenu.instance&&this.activeSubmenu.instance.close(),this.$nextTick(()=>{this.$destroy()})}}},S=I,w=n("0327");n("d66e");function g(e){this["$style"]=w["default"].locals||w["default"]}var k=y(S,$,C,!1,g,null,null),L=k.exports;const E=o.a.extend(x);function M(e){e.prototype.$contextmenu=e=>{let t=new E;t.items=e.items,t.position.x=e.x||0,t.position.y=e.y||0,e.event&&(t.position.x=e.event.clientX,t.position.y=e.event.clientY),t.customClass=e.customClass,e.minWidth&&(t.style.minWidth=e.minWidth),e.zIndex&&(t.style.zIndex=e.zIndex),t.$mount()}}o.a.component(h,L),window&&window.Vue&&M(window.Vue);var T={install:M},W=T;t["default"]=W},"8bbf":function(t,n){t.exports=e},d66e:function(e,t,n){"use strict";var i=n("e8c4"),s=n.n(i);s.a},e31d:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(i){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},e447:function(e,t,n){e.exports={menu:"Submenu_menu_9aRk6",menu_body:"Submenu_menu_body_aOR4U",menu_item:"Submenu_menu_item_1HP51",menu_item_hr:"Submenu_menu_item_hr_35Y3-",menu_item_icon:"Submenu_menu_item_icon_1ovxy",menu_item_label:"Submenu_menu_item_label_3TBz8",menu_item_expand_icon:"Submenu_menu_item_expand_icon_H1En3",menu_item__available:"Submenu_menu_item__available_v_VtQ",menu_item__disabled:"Submenu_menu_item__disabled_zWLFc",menu_item_expand:"Submenu_menu_item_expand_1ajSU"}},e8c4:function(e,t,n){}})}));
//# sourceMappingURL=contextmenu.umd.min.js.map